<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>merkledag.link documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Merkledag-core</span> <span class="project-version">0.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>merkledag</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></div></li><li class="depth-3 branch"><a href="merkledag.codec.cbor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cbor</span></div></a></li><li class="depth-3 branch"><a href="merkledag.codec.edn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-3"><a href="merkledag.codec.node-v1.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>node-v1</span></div></a></li><li class="depth-2 branch"><a href="merkledag.core.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="merkledag.link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>link</span></div></a></li><li class="depth-2"><a href="merkledag.node.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>node</span></div></a></li><li class="depth-3 branch"><a href="merkledag.node.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-3"><a href="merkledag.node.store.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>store</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="merkledag.link.html#var-collect-table"><div class="inner"><span>collect-table</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-compact-links"><div class="inner"><span>compact-links</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-create"><div class="inner"><span>create</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-find-links"><div class="inner"><span>find-links</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-form-.3Elink"><div class="inner"><span>form-&gt;link</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-link-.3Eform"><div class="inner"><span>link-&gt;form</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-link-index"><div class="inner"><span>link-index</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-merkle-link.3F"><div class="inner"><span>merkle-link?</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-replace-links"><div class="inner"><span>replace-links</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-resolve-indexes"><div class="inner"><span>resolve-indexes</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-resolve-name"><div class="inner"><span>resolve-name</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-Target"><div class="inner"><span>Target</span></div></a></li><li class="depth-2 branch"><a href="merkledag.link.html#var-identify"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>identify</span></div></a></li><li class="depth-2"><a href="merkledag.link.html#var-reachable-size"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reachable-size</span></div></a></li><li class="depth-1"><a href="merkledag.link.html#var-validate-links.21"><div class="inner"><span>validate-links!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">merkledag.link</h1><div class="doc"><div class="markdown"><p>The edges in the DAG are represented with <em>links</em> from one node to another. A merkle-link has a multihash target, an optional name string, and a recursive ‘reference size’ value.</p></div></div><div class="public anchor" id="var-collect-table"><h3>collect-table</h3><div class="usage"><code>(collect-table ordered-links data)</code></div><div class="doc"><div class="markdown"><p>Constructs a link table from the given data. The ordered links passed will be placed at the beginning of the link table, in order. Additional links walked from the data value will be appended in a canonical order.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L201">view source</a></div></div><div class="public anchor" id="var-compact-links"><h3>compact-links</h3><div class="usage"><code>(compact-links link-table)</code></div><div class="doc"><div class="markdown"><p>Attempts to convert a sequence of links into a compact, canonical form.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L192">view source</a></div></div><div class="public anchor" id="var-create"><h3>create</h3><div class="usage"><code>(create name target rsize)</code></div><div class="doc"><div class="markdown"><p>Constructs a <code>MerkleLink</code> value, validating the inputs.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L93">view source</a></div></div><div class="public anchor" id="var-find-links"><h3>find-links</h3><div class="usage"><code>(find-links data)</code></div><div class="doc"><div class="markdown"><p>Walks the given data structure looking for links. Returns a set of the links discovered.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L178">view source</a></div></div><div class="public anchor" id="var-form-.3Elink"><h3>form-&gt;link</h3><div class="usage"><code>(form-&gt;link v)</code></div><div class="doc"><div class="markdown"><p>Reader for link vectors produced by <code>link-&gt;form</code>.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L123">view source</a></div></div><div class="public anchor" id="var-link-.3Eform"><h3>link-&gt;form</h3><div class="usage"><code>(link-&gt;form link)</code></div><div class="doc"><div class="markdown"><p>Returns a vector representing the given link, suitable for serialization as part of a tagged literal value.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L115">view source</a></div></div><div class="public anchor" id="var-link-index"><h3>link-index</h3><div class="usage"><code>(link-index i)</code><code>(link-index link-table link)</code></div><div class="doc"><div class="markdown"><p>Return a <code>LinkIndex</code> value pointing to the given link in the table.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L263">view source</a></div></div><div class="public anchor" id="var-merkle-link.3F"><h3>merkle-link?</h3><div class="usage"><code>(merkle-link? x)</code></div><div class="doc"><div class="markdown"><p>Predicate which returns true if the argument is a <code>MerkleLink</code> object.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L139">view source</a></div></div><div class="public anchor" id="var-replace-links"><h3>replace-links</h3><div class="usage"><code>(replace-links link-table data)</code></div><div class="doc"><div class="markdown"><p>Replaces all the links in a data structure with indexes into the given table. Throws an exception if any links are ‘broken’ because they were not found in the table.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L275">view source</a></div></div><div class="public anchor" id="var-resolve-indexes"><h3>resolve-indexes</h3><div class="usage"><code>(resolve-indexes link-table data)</code></div><div class="doc"><div class="markdown"><p>Replaces all the link indexes in a data structure with link values resolved against the given table. Throws an exception if any links are ‘broken’ because the index is outside the table.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L290">view source</a></div></div><div class="public anchor" id="var-resolve-name"><h3>resolve-name</h3><div class="usage"><code>(resolve-name link-table link-name)</code></div><div class="doc"><div class="markdown"><p>Resolves a link name against the given table. Returns nil if no matching link is found.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L215">view source</a></div></div><div class="public anchor" id="var-Target"><h3>Target</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Protocol for values which can be targeted by merkle links.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-identify"><h3>identify</h3><div class="usage"><code>(identify target)</code></div><div class="doc"><div class="markdown"><p>Return the multihash identifying the target value.</p></div></div></div><div class="public anchor" id="var-reachable-size"><h3>reachable-size</h3><div class="usage"><code>(reachable-size target)</code></div><div class="doc"><div class="markdown"><p>Calculate the size of data in bytes reachable from the target.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L308">view source</a></div></div><div class="public anchor" id="var-validate-links.21"><h3>validate-links!</h3><div class="usage"><code>(validate-links! link-table)</code></div><div class="doc"><div class="markdown"><p>Validates certain invariants about link tables. Throws an exception on error, or returns the table if it is valid.</p></div></div><div class="src-link"><a href="https://github.com/greglook/merkledag-core/blob/master/src/merkledag/link.clj#L160">view source</a></div></div></div></body></html>